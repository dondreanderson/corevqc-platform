import React from 'react';

<div>
<div>
    
    
    NCR Details - CoreVQC</title>
    
    
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .status-badge {
            @apply px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide;
        }
        
        .status-open {
            @apply bg-red-100 text-red-800 border border-red-200;
        }
        
        .status-in-progress {
            @apply bg-blue-100 text-blue-800 border border-blue-200;
        }
        
        .status-resolved {
            @apply bg-green-100 text-green-800 border border-green-200;
        }
        
        .status-closed {
            @apply bg-gray-100 text-gray-800 border border-gray-200;
        }
        
        .severity-critical {
            @apply bg-red-100 text-red-800 border border-red-200;
        }
        
        .severity-high {
            @apply bg-orange-100 text-orange-800 border border-orange-200;
        }
        
        .severity-medium {
            @apply bg-yellow-100 text-yellow-800 border border-yellow-200;
        }
        
        .severity-low {
            @apply bg-gray-100 text-gray-800 border border-gray-200;
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .form-input {
            @apply w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors;
        }

        .btn-primary {
            @apply bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors inline-flex items-center space-x-2;
        }

        .btn-secondary {
            @apply bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold transition-colors inline-flex items-center space-x-2;
        }

        .btn-danger {
            @apply bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors inline-flex items-center space-x-2;
        }

        .edit-mode .view-only {
            display: none;
        }

        .edit-mode .edit-only {
            display: block;
        }

        .view-only {
            display: block;
        }

        .edit-only {
            display: none;
        }
    </style>
</span>
<div>
    {/* Header */}
    <div className="gradient-bg text-white py-6">
        <div className="max-w-7xl mx-auto px-6">
            <div className="flex items-center justify-between">
                <div className="flex items-center space-x-4">
                    <button onClick="goBack()" className="text-white hover:text-gray-200 transition-colors">
                        <i className="fas fa-arrow-left text-xl"></i>
                    </button>
                    <div>
                        <nav className="flex items-center space-x-2 text-sm mb-2 opacity-90">
                            <a href="#" className="hover:underline">Dashboard</a>
                            <span>/</div>
                            <a href="#" className="hover:underline">Quality Control</a>
                            <span>/</span>
                            <span id="breadcrumbNCR">NCR Details</span>
                        </nav>
                        <h1 className="text-3xl font-bold" id="headerTitle">NCR-001 Details</h1>
                    </div>
                </div>
                <div className="flex items-center space-x-3">
                    <button onClick="toggleEditMode()" id="editBtn" className="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg font-semibold transition-colors inline-flex items-center space-x-2">
                        <i className="fas fa-edit"></i>
                        <span>Edit NCR</span>
                    </button>
                    <button onClick="deleteNCR()" className="bg-red-500 bg-opacity-80 hover:bg-opacity-100 text-white px-4 py-2 rounded-lg font-semibold transition-colors inline-flex items-center space-x-2">
                        <i className="fas fa-trash"></i>
                        <span>Delete</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    {/* Main Content */}
    <div className="max-w-7xl mx-auto px-6 py-8">
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {/* Main NCR Information */}
            <div className="lg:col-span-2 space-y-6">
                {/* Basic Information */}
                <div className="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                    <div className="flex items-center justify-between mb-6">
                        <h2 className="text-xl font-semibold text-gray-900 flex items-center">
                            <i className="fas fa-exclamation-triangle text-blue-600 mr-3"></i>
                            NCR Information
                        </h2>
                        <div className="flex items-center space-x-3">
                            <span id="statusBadge" className="status-badge status-open">Open</span>
                            <span id="severityBadge" className="status-badge severity-high">High</span>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">NCR Number</label>
                            <div className="view-only">
                                <p id="ncrNumber" className="text-lg font-semibold text-gray-900">NCR-001</div>
                            </div>
                            <div className="edit-only">
                                <input type="text" id="editNcrNumber" className="form-input" readonly value="NCR-001"  />
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Category</label>
                            <div className="view-only">
                                <p id="category" className="text-gray-900">Quality</p>
                            </div>
                            <div className="edit-only">
                                <select id="editCategory" className="form-input">
                                    <option value="Quality">Quality</option>
                                    <option value="Safety">Safety</option>
                                    <option value="Process">Process</option>
                                    <option value="Material">Material</option>
                                    <option value="Environmental">Environmental</option>
                                    <option value="Documentation">Documentation</option>
                                </select>
                            </div>
                        </div>

                        <div className="md:col-span-2">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Title</label>
                            <div className="view-only">
                                <h3 id="title" className="text-xl font-semibold text-gray-900">Concrete strength test failure</h3>
                            </div>
                            <div className="edit-only">
                                <input type="text" id="editTitle" className="form-input" value="Concrete strength test failure"  />
                            </div>
                        </div>

                        <div className="md:col-span-2">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <div className="view-only">
                                <p id="description" className="text-gray-700 leading-relaxed">Concrete strength test results below specification requirements for foundation section A-3. Test results show 28-day compressive strength of 18 MPa against required 25 MPa minimum.</p>
                            </div>
                            <div className="edit-only">
                                <textarea id="editDescription" rows="4" className="form-input">Concrete strength test results below specification requirements for foundation section A-3. Test results show 28-day compressive strength of 18 MPa against required 25 MPa minimum.</textarea>
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <div className="view-only">
                                <p id="location" className="text-gray-900 flex items-center">
                                    <i className="fas fa-map-marker-alt text-gray-400 mr-2"></i>
                                    Foundation Block A-3
                                </p>
                            </div>
                            <div className="edit-only">
                                <input type="text" id="editLocation" className="form-input" value="Foundation Block A-3"  />
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Reported By</label>
                            <div className="view-only">
                                <p id="reportedBy" className="text-gray-900 flex items-center">
                                    <i className="fas fa-user text-gray-400 mr-2"></i>
                                    John Smith
                                </p>
                            </div>
                            <div className="edit-only">
                                <input type="text" id="editReportedBy" className="form-input" value="John Smith" readonly  />
                            </div>
                        </div>
                    </div>
                </div>

                {/* Status & Resolution */}
                <div className="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                    <h2 className="text-xl font-semibold text-gray-900 mb-6 flex items-center">
                        <i className="fas fa-cogs text-blue-600 mr-3"></i>
                        Status & Resolution
                    </h2>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Status</label>
                            <div className="view-only">
                                <span className="status-badge status-open">Open</span>
                            </div>
                            <div className="edit-only">
                                <select id="editStatus" className="form-input">
                                    <option value="OPEN">Open</option>
                                    <option value="IN_PROGRESS">In Progress</option>
                                    <option value="RESOLVED">Resolved</option>
                                    <option value="CLOSED">Closed</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Severity</label>
                            <div className="view-only">
                                <span className="status-badge severity-high">High</span>
                            </div>
                            <div className="edit-only">
                                <select id="editSeverity" className="form-input">
                                    <option value="LOW">Low</option>
                                    <option value="MEDIUM">Medium</option>
                                    <option value="HIGH">High</option>
                                    <option value="CRITICAL">Critical</option>
                                </select>
                            </div>
                        </div>

                        <div className="md:col-span-2">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Root Cause</label>
                            <div className="view-only">
                                <p id="rootCause" className="text-gray-700">Improper concrete mix ratio during batching process</p>
                            </div>
                            <div className="edit-only">
                                <textarea id="editRootCause" rows="3" className="form-input">Improper concrete mix ratio during batching process</textarea>
                            </div>
                        </div>

                        <div className="md:col-span-2">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Corrective Action</label>
                            <div className="view-only">
                                <p id="correctiveAction" className="text-gray-700">Remove and replace affected concrete sections. Implement additional quality control measures for concrete batching.</p>
                            </div>
                            <div className="edit-only">
                                <textarea id="editCorrectiveAction" rows="3" className="form-input">Remove and replace affected concrete sections. Implement additional quality control measures for concrete batching.</textarea>
                            </div>
                        </div>
                    </div>
                </div>

                {/* Photos & Documents */}
                <div className="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                    <h2 className="text-xl font-semibold text-gray-900 mb-6 flex items-center">
                        <i className="fas fa-camera text-blue-600 mr-3"></i>
                        Photos & Documents
                    </h2>

                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div className="bg-gray-100 rounded-lg p-4 text-center">
                            <i className="fas fa-image text-4xl text-gray-400 mb-2"></i>
                            <p className="text-sm text-gray-600">Test Results.pdf</p>
                        </div>
                        <div className="bg-gray-100 rounded-lg p-4 text-center">
                            <i className="fas fa-image text-4xl text-gray-400 mb-2"></i>
                            <p className="text-sm text-gray-600">Site Photo 1.jpg</p>
                        </div>
                        <div className="bg-gray-100 rounded-lg p-4 text-center">
                            <i className="fas fa-image text-4xl text-gray-400 mb-2"></i>
                            <p className="text-sm text-gray-600">Site Photo 2.jpg</p>
                        </div>
                        <div className="edit-only border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-500 transition-colors">
                            <i className="fas fa-plus text-2xl text-gray-400 mb-2"></i>
                            <p className="text-sm text-gray-600">Add Photo</p>
                        </div>
                    </div>
                </div>
            </div>

            {/* Sidebar */}
            <div className="space-y-6">
                {/* Timeline */}
                <div className="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                    <h3 className="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                        <i className="fas fa-clock text-blue-600 mr-2"></i>
                        Timeline
                    </h3>
                    
                    <div className="space-y-4">
                        <div className="flex items-start space-x-3">
                            <div className="w-3 h-3 bg-blue-600 rounded-full mt-2"></div>
                            <div>
                                <p className="text-sm font-medium text-gray-900">NCR Created</p>
                                <p className="text-xs text-gray-500">Jan 5, 2025 at 10:30 AM</p>
                                <p className="text-xs text-gray-600">by John Smith</p>
                            </div>
                        </div>
                        
                        <div className="flex items-start space-x-3">
                            <div className="w-3 h-3 bg-yellow-500 rounded-full mt-2"></div>
                            <div>
                                <p className="text-sm font-medium text-gray-900">Under Investigation</p>
                                <p className="text-xs text-gray-500">Jan 5, 2025 at 2:15 PM</p>
                                <p className="text-xs text-gray-600">by Sarah Johnson</p>
                            </div>
                        </div>
                        
                        <div className="flex items-start space-x-3">
                            <div className="w-3 h-3 bg-gray-300 rounded-full mt-2"></div>
                            <div>
                                <p className="text-sm font-medium text-gray-400">Pending Resolution</p>
                                <p className="text-xs text-gray-400">Awaiting action</p>
                            </div>
                        </div>
                    </div>
                </div>

                {/* Key Dates */}
                <div className="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                    <h3 className="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                        <i className="fas fa-calendar text-blue-600 mr-2"></i>
                        Key Dates
                    </h3>
                    
                    <div className="space-y-4">
                        <div>
                            <label className="block text-sm font-medium text-gray-700">Created Date</label>
                            <p className="text-sm text-gray-900">January 5, 2025</p>
                        </div>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Due Date</label>
                            <div className="view-only">
                                <p id="dueDate" className="text-sm text-orange-600 font-medium">January 12, 2025</p>
                            </div>
                            <div className="edit-only">
                                <input type="date" id="editDueDate" className="form-input text-sm" value="2025-01-12"  />
                            </div>
                        </div>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700">Days Open</label>
                            <p className="text-sm text-red-600 font-medium">3 days</p>
                        </div>
                    </div>
                </div>

                {/* Actions */}
                <div className="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                    <h3 className="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h3>
                    
                    <div className="space-y-3">
                        <div className="view-only space-y-3">
                            <button className="w-full btn-primary justify-center">
                                <i className="fas fa-check"></i>
                                <span>Mark Resolved</span>
                            </button>
                            <button className="w-full btn-secondary justify-center">
                                <i className="fas fa-user-plus"></i>
                                <span>Assign User</span>
                            </button>
                            <button className="w-full btn-secondary justify-center">
                                <i className="fas fa-download"></i>
                                <span>Export PDF</span>
                            </button>
                        </div>
                        
                        <div className="edit-only space-y-3">
                            <button onClick="saveNCR()" className="w-full btn-primary justify-center">
                                <i className="fas fa-save"></i>
                                <span>Save Changes</span>
                            </button>
                            <button onClick="cancelEdit()" className="w-full btn-secondary justify-center">
                                <i className="fas fa-times"></i>
                                <span>Cancel</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let editMode = false;
        
        // Sample NCR data
        const ncrData = {
            id: 'NCR-001',
            ncrNumber: 'NCR-001',
            title: 'Concrete strength test failure',
            description: 'Concrete strength test results below specification requirements for foundation section A-3. Test results show 28-day compressive strength of 18 MPa against required 25 MPa minimum.',
            status: 'OPEN',
            severity: 'HIGH',
            category: 'Quality',
            location: 'Foundation Block A-3',
            reportedBy: 'John Smith',
            rootCause: 'Improper concrete mix ratio during batching process',
            correctiveAction: 'Remove and replace affected concrete sections. Implement additional quality control measures for concrete batching.',
            dueDate: '2025-01-12',
            createdAt: '2025-01-05'
        };

        function toggleEditMode() {
            editMode = !editMode;
            const container = document.querySelector('.max-w-7xl');
            const editBtn = document.getElementById('editBtn');
            
            if (editMode) {
                container.classList.add('edit-mode');
                editBtn.innerHTML = '<i className="fas fa-eye"></i><span>View Mode</span>';
                editBtn.classList.remove('bg-white', 'bg-opacity-20', 'hover:bg-opacity-30');
                editBtn.classList.add('bg-yellow-500', 'hover:bg-yellow-600');
                
                // Populate edit fields
                populateEditFields();
            } else {
                container.classList.remove('edit-mode');
                editBtn.innerHTML = '<i className="fas fa-edit"></i><span>Edit NCR</span>';
                editBtn.classList.remove('bg-yellow-500', 'hover:bg-yellow-600');
                editBtn.classList.add('bg-white', 'bg-opacity-20', 'hover:bg-opacity-30');
            }
        }

        function populateEditFields() {
            document.getElementById('editNcrNumber').value = ncrData.ncrNumber;
            document.getElementById('editTitle').value = ncrData.title;
            document.getElementById('editDescription').value = ncrData.description;
            document.getElementById('editCategory').value = ncrData.category;
            document.getElementById('editLocation').value = ncrData.location;
            document.getElementById('editReportedBy').value = ncrData.reportedBy;
            document.getElementById('editStatus').value = ncrData.status;
            document.getElementById('editSeverity').value = ncrData.severity;
            document.getElementById('editRootCause').value = ncrData.rootCause;
            document.getElementById('editCorrectiveAction').value = ncrData.correctiveAction;
            document.getElementById('editDueDate').value = ncrData.dueDate;
        }

        function saveNCR() {
            // Collect form data
            const updatedData = {
                ...ncrData,
                title: document.getElementById('editTitle').value,
                description: document.getElementById('editDescription').value,
                category: document.getElementById('editCategory').value,
                location: document.getElementById('editLocation').value,
                status: document.getElementById('editStatus').value,
                severity: document.getElementById('editSeverity').value,
                rootCause: document.getElementById('editRootCause').value,
                correctiveAction: document.getElementById('editCorrectiveAction').value,
                dueDate: document.getElementById('editDueDate').value
            };

            // Update display data
            Object.assign(ncrData, updatedData);
            updateDisplayData();
            
            // Exit edit mode
            toggleEditMode();
            
            // Show success message
            showNotification('NCR updated successfully!', 'success');
        }

        function cancelEdit() {
            toggleEditMode();
        }

        function updateDisplayData() {
            document.getElementById('title').textContent = ncrData.title;
            document.getElementById('description').textContent = ncrData.description;
            document.getElementById('category').textContent = ncrData.category;
            document.getElementById('location').innerHTML = `<i className="fas fa-map-marker-alt text-gray-400 mr-2"></i>${ncrData.location}`;
            document.getElementById('rootCause').textContent = ncrData.rootCause;
            document.getElementById('correctiveAction').textContent = ncrData.correctiveAction;
            document.getElementById('dueDate').textContent = formatDate(ncrData.dueDate);
            
            // Update badges
            updateStatusBadge();
            updateSeverityBadge();
        }

        function updateStatusBadge() {
            const badge = document.getElementById('statusBadge');
            badge.className = `status-badge status-${ncrData.status.toLowerCase().replace('_', '-')}`;
            badge.textContent = ncrData.status.replace('_', ' ');
        }

        function updateSeverityBadge() {
            const badge = document.getElementById('severityBadge');
            badge.className = `status-badge severity-${ncrData.severity.toLowerCase()}`;
            badge.textContent = ncrData.severity;
        }

        function deleteNCR() {
            if (confirm('Are you sure you want to delete this NCR? This action cannot be undone.')) {
                showNotification('NCR deleted successfully!', 'success');
                setTimeout(() => {
                    goBack();
                }, 1500);
            }
        }

        function goBack() {
            // In a real app, this would navigate back
            window.history.back();
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return 
    <>
date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-semibold z-50 ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 'bg-blue-600'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateDisplayData();
        });
    </script>
{/* script content removed for JSX compatibility */}
</div>
</div>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDtFrrvLF08orYqcKP79qEuap3kAZsbBNMeQrstaPQjQW1MJhUy14JAKyNchv%2Bq%2F2LYCLJjJQJ0hFrzA7K2P%2FMOos5MuMXNLhuyw%2FQGA%2F7buOL3J4G84zopeSoH0fhTIZUAEUFCrTzHm9FHaflDFdcLDjzH64Ahzrmx%2Fv1flc3PGv%2FqXJwUnDQTAnsAhd1%2FGOqhDFj0%2BCrYE5%2F0w6dfBd%2Fn%2FLnJfGv3Tcs%2FdmmDD089Cx9%2FuIJUhdE20PLTu9P18K94boZS%2FrGxNRQ25cWljnesPvAicbNtMplKh7D2HjcXP4mXTDm8XTp1AtEnOm9Q7p7DaqYFbggPzBxBINCg1qLWjSuc7M62g8pas0gxxuIIaxlgerXqwgj3XlQskay2HYCIi51zIAfklTW2f5lfEyTf4y72ULJvN7Fjxncvw3I6oz51VKZLDo%2FpaVSBSGxf8AEXIZ95JicdoW1LiVNP82D6NIW6LMpJViHZT%2FKx8Wot6RHPMrAzrWgHcwAmkRxnRaU%2BTgdTTkqpvaUJHBhhD5vgLC3RbznYdTMhfR2xVrVajC";
        window.__genspark_locale = "en-US";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDtFrrvLF08orYqcKP79qEuap3kAZsbBNMeQrstaPQjQW1MJhUy14JAKyNchv+q/2LYCLJjJQJ0hFrzA7K2P/MOos5MuMXNLhuyw/QGA/7buOL3J4G84zopeSoH0fhTIZUAEUFCrTzHm9FHaflDFdcLDjzH64Ahzrmx/v1flc3PGv/qXJwUnDQTAnsAhd1/GOqhDFj0+CrYE5/0w6dfBd/n/LnJfGv3Tcs/dmmDD089Cx9/uIJUhdE20PLTu9P18K94boZS/rGxNRQ25cWljnesPvAicbNtMplKh7D2HjcXP4mXTDm8XTp1AtEnOm9Q7p7DaqYFbggPzBxBINCg1qLWjSuc7M62g8pas0gxxuIIaxlgerXqwgj3XlQskay2HYCIi51zIAfklTW2f5lfEyTf4y72ULJvN7Fjxncvw3I6oz51VKZLDo/paVSBSGxf8AEXIZ95JicdoW1LiVNP82D6NIW6LMpJViHZT/Kx8Wot6RHPMrAzrWgHcwAmkRxnRaU+TgdTTkqpvaUJHBhhD5vgLC3RbznYdTMhfR2xVrVajC";
    </script>
    
    {/* script content removed for JSX compatibility */}
    </>

    